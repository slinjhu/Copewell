<!DOCTYPE html>
<html>
<head>
    <title>Map</title>
    <meta charset="utf-8">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,300,100' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
    <script src="js/mapdraw.js"></script>
    <style type="text/css">
    .map{
        border: 1px solid green;
        max-width: 1000px;
        min-width: 1000px;
        margin: 0px;
        padding: 10px;
    }
    </style>
</head>
<body>
<h1>
    <a href="">Map viewer</a>
    <a href="../">Home</a>
</h1>

    <p>
        Measure to plot: 
        <select id="measure" onchange="update();">
            <option value="1">[1] Percentage of households with Internet service</option>
            <option value="3">[3] Number of banking companies per 10,000 population</option>
            <option value="4">[4] Number of jobs per person</option>
            <option value="5">[5] Median household income</option>
            <option value="6">[6] Number of employers per 10,000 population</option>
            <option value="7">[7] Pupil/Teacher Ratio [Public School] 2012-13</option>
            <option value="8">[8] Number of public schools per 10,000 population</option>
            <option value="9">[9] Number of public school teachers per 1,000 population</option>
            <option value="10">[10] Average number of students per public school</option>
            <option value="11">[11] Number of grocery stores per 10,000 population</option>
            <option value="12">[12] Number of grocery stores per 100 square mile</option>
            <option value="14">[14] Percentage of households on public water</option>
            <option value="15">[15] Per capita federal government spending ($1,000)</option>
            <option value="16">[16] Percentage of incomes in government employment</option>
            <option value="17">[17] Number of governments and special districts in county per 1,000 population</option>
            <option value="18">[18] Percentage in federal, state, and local government employment</option>
            <option value="19">[19] Percentage of vacant houses</option>
            <option value="20">[20] Number of traveler's accommodations per10,000 population</option>
            <option value="21">[21] Number of dwelling units per 10,000 population</option>
            <option value="22">[22] Percentage of vacant rental units</option>
            <option value="23">[23] Number of physicians per 10,000 population</option>
            <option value="24">[24] Number of hospital beds per 10,000 population</option>
            <option value="25a">[25a] Percentage of women on medicare with mammogram</option>
            <option value="25b">[25b] Percentage of women on medicare with diabetes</option>
            <option value="26">[26] Percentage of uninsured adults</option>
            <option value="30">[30] Percentage of children with single parent</option>
            <option value="31">[31] Percentage of households with one person</option>
            <option value="32">[32] Number of nursing homes per 100,000 population</option>
            <option value="38">[38] Percentage of walk or cycle to work</option>
            <option value="42">[42] All cause mortality per 100,000 population</option>
            <option value="43">[43] Percentage of self-reported excellent or very good health</option>
            <option value="44">[44] Well-being of life</option>
            <option value="45">[45] Number of bridges per 100 square mile</option>
            <option value="48">[48] Average age of housing stock</option>
            <option value="49">[49] Percentage of housing units that are not mobile homes</option>
            <option value="50a">[50a] Median residential download speed (mbps)</option>
            <option value="50b">[50b] Median mobile download speed (mbps)</option>
            <option value="51">[51] Percentage of bridges with structural deficiencies</option>
            <option value="52">[52] Percentage of bridges that are obsolete</option>
            <option value="54">[54] Percentage of population affected by water violation of those served by public water system</option>
            <option value="55">[55] Percentage of children in population (<18 years old)</option>
            <option value="56">[56] Percentage of elderlies in population (>85 years old)</option>
            <option value="57">[57] Percentage of population in institutions</option>
            <option value="60">[60] Percentage of population with sensory, physical, or mental disability</option>
            <option value="63">[63] Income inequality</option>
            <option value="64">[64] Percentage of population with less than high schoold education</option>
            <option value="65">[65] Percentage of population not in the labor force</option>
            <option value="66">[66] Percentage of population in poverty</option>
            <option value="67">[67] Percentage of civilian unemployed</option>
            <option value="68">[68] Percentage of housing units in a county without a car and more than 1 mile from a supermarket, supercenter or large grocery store. </option>
            <option value="69">[69] Percentage of population on public assistance and food stamps</option>
            <option value="73">[73] Percentage of population who use carpool to work</option>
            <option value="74">[74] Percentage of population affiliated with religious group</option>
            <option value="75">[75] Number of religious buildings per 100 square mile</option>
            <option value="76">[76] Percentage of population who drive to work alone</option>
            <option value="77">[77] Number of net International migration</option>
            <option value="78">[78] Number of social advocacy organizations per 10,000</option>
            <option value="902">[902] Spectral Acceleration (%g)</option>
            <option value="901">[901] Population</option>
        </select>
    </p>
    <p>
        Type: 
        <select id="folder" onchange="update();">
            <option value="data">Raw</option>
            <option value="data_scaled">Scaled</option>
        </select>
    </p>
    <div id="map" class="map"></div>

    <script type="text/javascript">
    update();
    function update(){
        var id = $("#measure option:selected").val();
        var folder = $("#folder option:selected").val();
        var filename = "../" + folder + "/" + id + ".csv";

        var folderText = $("#folder option:selected").html();
        var measureText = $("#measure option:selected").html();
        var title = folderText + " " + measureText;

        mapdraw("#map", filename, title);
    }

    </script>

</body>

</html>

